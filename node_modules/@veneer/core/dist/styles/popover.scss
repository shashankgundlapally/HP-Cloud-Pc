@import 'utils/mixins';
@import 'utils/variables';

$arrow-size: 10px;
$arrow-target-adjustment: $arrow-size / 2;
$arrow-content-adjustment: 7px;

.vn-popover {
  @include border-radius(5px);
  display: inline-block;
  position: relative;

  &__target {

    &--arrow:before {
      @include box-shadow(1px 1px 1px 0 rgba(0, 0, 0, .2));
      background: $white;
      content: '';
      height: $arrow-size;
      pointer-events: none;
      position: absolute;
      visibility: hidden;
      width: $arrow-size;
      z-index: 2;
    }

    &--up:before {// content up, arrow pointing down
      @include transform(rotate(45deg));
      bottom: calc(100% + #{$arrow-content-adjustment});
      left: calc(50% - #{$arrow-target-adjustment});
    }

    &--down:before {// content down, arrow pointing up
      @include transform(rotate(225deg));
      left: calc(50% - #{$arrow-target-adjustment});
      top: calc(100% + #{$arrow-content-adjustment});
    }

    &--left:before {// content to the left, arrow pointing right
      @include transform(rotate(315deg));
      right: calc(100% + #{$arrow-content-adjustment});
      top: calc(50% - #{$arrow-target-adjustment});
    }

    &--right:before {// content to the right, arrow pointing left
      @include transform(rotate(135deg));
      left: calc(100% + #{$arrow-content-adjustment});
      top: calc(50% - #{$arrow-target-adjustment});
    }

    &--visible:before {
      visibility: visible;
    }
  }

  &__content {
    display: block;
    background: $white;
    margin: 0;
    padding: 0;
    position: absolute;
    visibility: hidden;
    z-index: 1;

    &--up {
      bottom: calc(100% + #{$arrow-size});
    }

    &--right {
      left: calc(100% + #{$arrow-size});
    }

    &--down {
      top: calc(100% + #{$arrow-size});
    }

    &--left {
      right: calc(100% + #{$arrow-size});
    }

    &--top-aligned {
      top: 0%;
    }

    &--with-arrow-top-aligned {
      top: calc(0% - #{$arrow-size});
    }

    &--right-aligned {
      @include transform(translateX(-100%));
      left: 100%;
    }

    &--with-arrow-right-aligned {
      @include transform(translateX(-100%));
      left: calc(100% + #{$arrow-size});
    }

    &--bottom-aligned {
      bottom: 0%;
    }

    &--with-arrow-bottom-aligned {
      bottom: calc(0% - #{$arrow-size});
    }

    &--left-aligned {
      @include transform(translateX(-0%));
      left: 0%;
    }

    &--with-arrow-left-aligned {
      @include transform(translateX(-0%));
      left: calc(0% - #{$arrow-size});
    }

    &--up#{&}--middle-aligned,
    &--up#{&}--with-arrow-middle-aligned,
    &--down#{&}--middle-aligned,
    &--down#{&}--with-arrow-middle-aligned {
      @include transform(translateX(-50%));
      left: 50%;
    }

    &--right#{&}--middle-aligned,
    &--right#{&}--with-arrow-middle-aligned,
    &--left#{&}--middle-aligned,
    &--left#{&}--with-arrow-middle-aligned {
      @include transform(translateY(-50%));
      top: 50%;
    }

    &--visible {
      visibility: visible;
    }

  }
}
